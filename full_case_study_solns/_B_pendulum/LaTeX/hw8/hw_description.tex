For the inverted pendulum, do the following:
\begin{description}
\item[(a)] Using the principle of successive loop closure, draw a block diagram that uses PD control for both inner loop control and outer loop control. The input to the outer loop controller is the desired cart position $z^d$ and the output of the controller is the desired pendulum angle $\theta^d$.  The input to the inner loop controller is the desired pendulum angle $\theta^d$ and the output is the force $F$ on the cart.
\item[(b)] Focusing on the inner loop, find the PD gains $k_{P_\theta}$ and $k_{D_\theta}$ so that the rise time of the inner loop is $t_{r_\theta}=0.5$~seconds, and the damping ratio is $\zeta_{\theta}=0.707$.
\item[(c)] Find the DC gain $k_{DC_\theta}$ of the inner loop.
\item[(d)] Replace the inner loop by its DC-gain and consider the outer loop.  Add a low-pass filter that cancels the left-half plane zero, and then design a PD control strategy to stabilize the position of the cart.  
\item[(e)] Implement the control design to control on the inverted pendulum.  Modify the simulation to include saturation on the force $F$ to limit the size of the input force on the cart to $F_{\max}=5$~N. Give the pendulum angle an initial condition of 10~deg and simulate the response of the system for 10~seconds to verify that the cart is able to balance the pendulum. 
\end{description}
